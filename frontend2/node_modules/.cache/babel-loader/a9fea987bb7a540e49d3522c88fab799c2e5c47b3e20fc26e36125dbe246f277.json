{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nexport const getAndSaveLocalData = () => {\n  _s();\n  const {\n    fetchCalendarEntries,\n    fetchCategoryEntries,\n    fetchTasks,\n    addCategory,\n    addTask,\n    addCalendarEntry,\n    updateCalendarEntry,\n    updateTask,\n    deleteCalendarEntry,\n    deleteCategory,\n    deleteTask\n  } = useContext(AuthContext);\n  const updateEntriesFromDatabase = async userID => {\n    const calenderEntries = await fetchCalendarEntries();\n    const categoryEntries = await fetchCategoryEntries();\n    const Tasks = await fetchTasks();\n    localStorage.setItem('calendarEntries', JSON.stringify(calenderEntries));\n    localStorage.setItem('categoryEntries', JSON.stringify(categoryEntries));\n    localStorage.setItem('Tasks', JSON.stringify(Tasks));\n  };\n  const getLocalData = () => {\n    const calendarEntries = JSON.parse(localStorage.getItem('calendarEntries'));\n    const categoryEntries = JSON.parse(localStorage.getItem('categoryEntries'));\n    const Tasks = JSON.parse(localStorage.getItem('Tasks'));\n    console.log('calendarEntries exported:', calendarEntries);\n    console.log('categoryEntries exported:', categoryEntries);\n    console.log('Tasks exported:', Tasks);\n    return {\n      calendarEntries,\n      categoryEntries,\n      Tasks\n    };\n  };\n  const addCategoryGlobal = async category => {\n    await addCategory(category);\n    const categoryEntries = getLocalData().categoryEntries;\n    categoryEntries.push(category);\n    localStorage.setItem('categoryEntries', JSON.stringify(categoryEntries));\n  };\n  const addTaskGlobal = async task => {\n    const addTaskResponse = await addTask(task);\n    console.log('task:', task);\n    const Tasks = getLocalData().Tasks;\n    Tasks.push(task);\n    localStorage.setItem('Tasks', JSON.stringify(Tasks));\n    return addTaskResponse;\n  };\n  const addCalendarEntryGlobal = async entry => {\n    await addCalendarEntry(entry);\n    const calendarEntries = getLocalData().calendarEntries;\n    calendarEntries.push(entry);\n    localStorage.setItem('calendarEntries', JSON.stringify(calendarEntries));\n  };\n  const updateCalendarEntryGlobal = async (id, entry) => {\n    await updateCalendarEntry(id, entry);\n    const calendarEntries = getLocalData().calendarEntries;\n    const index = calendarEntries.findIndex(e => e._id === id);\n    calendarEntries[index] = entry;\n    localStorage.setItem('calendarEntries', JSON.stringify(calendarEntries));\n  };\n  const updateTaskGlobal = async (id, entry) => {\n    console.log('id:', id);\n    console.log('entry:', entry);\n    const updateTaskData = await updateTask(id, entry);\n    const Tasks = getLocalData().Tasks;\n    const index = Tasks.findIndex(e => e._id === id);\n    Tasks[index] = entry;\n    localStorage.setItem('Tasks', JSON.stringify(Tasks));\n    return updateTaskData;\n  };\n  const deleteCalendarEntryGlobal = async id => {\n    await deleteCalendarEntry(id);\n    const calendarEntries = getLocalData().calendarEntries;\n    const index = calendarEntries.findIndex(e => e._id === id);\n    calendarEntries.splice(index, 1);\n    localStorage.setItem('calendarEntries', JSON.stringify(calendarEntries));\n  };\n  const deleteCategoryGlobal = async id => {\n    await deleteCategory(id);\n    const categoryEntries = getLocalData().categoryEntries;\n    const index = categoryEntries.findIndex(e => e._id === id);\n    categoryEntries.splice(index, 1);\n    localStorage.setItem('categoryEntries', JSON.stringify(categoryEntries));\n  };\n  const deleteTaskGlobal = async id => {\n    const deleteResponse = await deleteTask(id);\n    const Tasks = getLocalData().Tasks;\n    const index = Tasks.findIndex(e => e._id === id);\n    Tasks.splice(index, 1);\n    localStorage.setItem('Tasks', JSON.stringify(Tasks));\n    return deleteResponse;\n  };\n  return {\n    updateEntriesFromDatabase,\n    getLocalData,\n    addCategoryGlobal,\n    addTaskGlobal,\n    addCalendarEntryGlobal,\n    updateCalendarEntryGlobal,\n    updateTaskGlobal,\n    deleteCalendarEntryGlobal,\n    deleteCategoryGlobal,\n    deleteTaskGlobal\n  };\n};\n_s(getAndSaveLocalData, \"zcmpdsaBNUo+XnXjeNZLB9I8glI=\");","map":{"version":3,"names":["useContext","AuthContext","getAndSaveLocalData","_s","fetchCalendarEntries","fetchCategoryEntries","fetchTasks","addCategory","addTask","addCalendarEntry","updateCalendarEntry","updateTask","deleteCalendarEntry","deleteCategory","deleteTask","updateEntriesFromDatabase","userID","calenderEntries","categoryEntries","Tasks","localStorage","setItem","JSON","stringify","getLocalData","calendarEntries","parse","getItem","console","log","addCategoryGlobal","category","push","addTaskGlobal","task","addTaskResponse","addCalendarEntryGlobal","entry","updateCalendarEntryGlobal","id","index","findIndex","e","_id","updateTaskGlobal","updateTaskData","deleteCalendarEntryGlobal","splice","deleteCategoryGlobal","deleteTaskGlobal","deleteResponse"],"sources":["C:/Users/helwes04/Documents/GitHub/workoutproject/frontend2/src/utils/getAndSaveLocalData.js"],"sourcesContent":["import {useContext} from \"react\";\r\nimport {AuthContext} from \"../context/AuthContext\";\r\n\r\nexport const getAndSaveLocalData =  () => {\r\n    const { fetchCalendarEntries, fetchCategoryEntries, fetchTasks, addCategory, addTask, addCalendarEntry, updateCalendarEntry, updateTask, deleteCalendarEntry, deleteCategory, deleteTask } = useContext(AuthContext);\r\n    const updateEntriesFromDatabase = async (userID) => {\r\n        const calenderEntries = await fetchCalendarEntries();\r\n        const categoryEntries = await fetchCategoryEntries();\r\n        const Tasks = await fetchTasks();\r\n        localStorage.setItem('calendarEntries', JSON.stringify(calenderEntries));\r\n        localStorage.setItem('categoryEntries', JSON.stringify(categoryEntries));\r\n        localStorage.setItem('Tasks', JSON.stringify(Tasks));\r\n    };\r\n    const getLocalData = () => {\r\n        const calendarEntries = JSON.parse(localStorage.getItem('calendarEntries'));\r\n        const categoryEntries = JSON.parse(localStorage.getItem('categoryEntries'));\r\n        const Tasks = JSON.parse(localStorage.getItem('Tasks'));\r\n        console.log('calendarEntries exported:', calendarEntries);\r\n        console.log('categoryEntries exported:', categoryEntries);\r\n        console.log('Tasks exported:', Tasks);\r\n        return { calendarEntries, categoryEntries, Tasks };\r\n    };\r\n    const addCategoryGlobal = async (category) => {\r\n        await addCategory(category);\r\n        const categoryEntries = getLocalData().categoryEntries;\r\n        categoryEntries.push(category);\r\n        localStorage.setItem('categoryEntries', JSON.stringify(categoryEntries));\r\n    };\r\n    const addTaskGlobal = async (task) => {\r\n        const addTaskResponse = await addTask(task);\r\n        console.log('task:', task);\r\n        const Tasks = getLocalData().Tasks;\r\n        Tasks.push(task);\r\n        localStorage.setItem('Tasks', JSON.stringify(Tasks));\r\n        return addTaskResponse;\r\n    };\r\n    const addCalendarEntryGlobal = async (entry) => {\r\n        await addCalendarEntry(entry);\r\n        const calendarEntries = getLocalData().calendarEntries;\r\n        calendarEntries.push(entry);\r\n        localStorage.setItem('calendarEntries', JSON.stringify(calendarEntries));\r\n    };\r\n    const updateCalendarEntryGlobal = async (id, entry) => {\r\n        await updateCalendarEntry(id, entry);\r\n        const calendarEntries = getLocalData().calendarEntries;\r\n        const index = calendarEntries.findIndex((e) => e._id === id);\r\n        calendarEntries[index] = entry;\r\n        localStorage.setItem('calendarEntries', JSON.stringify(calendarEntries));\r\n    };\r\n    const updateTaskGlobal = async (id, entry) => {\r\n        console.log('id:', id);\r\n        console.log('entry:', entry);\r\n        const updateTaskData = await updateTask(id, entry);\r\n        const Tasks = getLocalData().Tasks;\r\n        const index = Tasks.findIndex((e) => e._id === id);\r\n        Tasks[index] = entry;\r\n        localStorage.setItem('Tasks', JSON.stringify(Tasks));\r\n        return updateTaskData;\r\n    };\r\n    const deleteCalendarEntryGlobal = async (id) => {\r\n        await deleteCalendarEntry(id);\r\n        const calendarEntries = getLocalData().calendarEntries;\r\n        const index = calendarEntries.findIndex((e) => e._id === id);\r\n        calendarEntries.splice(index, 1);\r\n        localStorage.setItem('calendarEntries', JSON.stringify(calendarEntries));\r\n    };\r\n    const deleteCategoryGlobal = async (id) => {\r\n        await deleteCategory(id);\r\n        const categoryEntries = getLocalData().categoryEntries;\r\n        const index = categoryEntries.findIndex((e) => e._id === id);\r\n        categoryEntries.splice(index, 1);\r\n        localStorage.setItem('categoryEntries', JSON.stringify(categoryEntries));\r\n    };\r\n    const deleteTaskGlobal = async (id) => {\r\n        const deleteResponse = await deleteTask(id);\r\n        const Tasks = getLocalData().Tasks;\r\n        const index = Tasks.findIndex((e) => e._id === id);\r\n        Tasks.splice(index, 1);\r\n        localStorage.setItem('Tasks', JSON.stringify(Tasks));\r\n        return deleteResponse;\r\n    };\r\n    return { updateEntriesFromDatabase, getLocalData, addCategoryGlobal, addTaskGlobal, addCalendarEntryGlobal, updateCalendarEntryGlobal, updateTaskGlobal, deleteCalendarEntryGlobal, deleteCategoryGlobal, deleteTaskGlobal };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}